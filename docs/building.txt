iconv-detect.h
--------------

Note: Unless you are cross compiling, this probably isn't needed

When cross compiling there's one difficulty: the iconv-detect.h file in
libtinymail-camel/camel-lite/ which is a file that must be generated.

In case the normal configure script fails at creating this, you can or
checking m4/ticonv.m4 to figure out why it's failing, or put a file in
it manually.

You can generate one doing this on the target platform:

cd libtinymail-camel/camel-lite
gcc -DCONFIGURE_AC iconv-detect.c -o iconv-detect
./iconv-detect
cat iconv-detect.h
cd ../..

This is by the way basically the procedure that ticonv.m4 will do too.

Feel free to contribute a good detection that will always work with all
cross compilation situations.

One laptop per child
--------------------

= On a x86 desktop =


svn co https://svn.tinymail.org/svn/tinymail
cd tinymail/trunk
./autogen.sh --prefix=/opt/tinymail-olpc --with-platform=olpc
make && make install

Now simply copy /opt/tinymail-olpc to the device

Mount the image on /media/OLPCRoot

cp -a /opt/tinymail-olpc /media/OLPCRoot/opt/


Maemo
-----

= Outside scratchbox =

cd /scratchbox/users/$USER/home/$USER/
svn co https://svn.tinymail.org/svn/tinymail

= Inside an ARMEL scratchbox =

cd tinymail/trunk
./autogen.sh --prefix=/opt/tinymail-maemo --with-platform=maemo
make && make install

Now simply copy /opt/tinymail-maemo to the device

GPE
---

svn co https://svn.tinymail.org/svn/tinymail
cd tinymail/trunk
./autogen.sh --prefix=/opt/tinymail --with-platform=gpe
make && make install

Now run /opt/tinymail/bin/tinymail

A desktop
---------

For dependencies per distribution, check out requirements.txt

svn co https://svn.tinymail.org/svn/tinymail
cd tinymail/trunk
./autogen.sh --prefix=/opt/tinymail
make && make install

Now run /opt/tinymail/bin/tinymail

Creating the test-account for GPE, Maemo en Desktop builds
----------------------------------------------------------

Note that this information is specific for the following platform specific
implementations:

	o. libtinymail-gnome-desktop
	o. libtinymail-gpe
	o. libtinymail-maemo

Note that it's the developer who develops on top of tinymail who decides about
where to put and how to store configuration. This configuration will work for
clients that use the standard TnyAccountStore implementations.

For example the libtinymail-olpc implementation uses a .ini file in stead of
GConf. That's because the OLPC laptop doesn't come with GConf. GConf is not
a requirement of the tinymail framework. It's an optional method for storing
configuration data.

The demo user interfaces are all demos. They are not intented to be full
E-mail clients or PIM suites. It's you, the application developer, who's going
to make that using tinymail. Right?

gconftool-2 -s /apps/tinymail/accounts/count -t int 1
gconftool-2 -s /apps/tinymail/accounts/0/name -t string "Test account"
gconftool-2 -s /apps/tinymail/accounts/0/proto -t string "imap"
gconftool-2 -s /apps/tinymail/accounts/0/type -t string "store"
gconftool-2 -s /apps/tinymail/accounts/0/hostname -t string "mail.tinymail.org"
gconftool-2 -s /apps/tinymail/accounts/0/user -t string "tinymailunittest"

ps. The password is "unittest"


The make distcheck target
-------------------------
./autogen.sh --prefix=/opt/tinymail --with-html-component=mozembed \
	--enable-gtk-doc --enable-tests
make
make distcheck

For packagers
-------------
Read packagers.txt

Dependencies
------------
Read requirements.txt

For debugging
-------------
CFLAGS="-D_GNU_SOURCE -O0 -Wstrict-prototypes -Wall -g -ggdb" PKG_CONFIG_PATH=/opt/asyncworker/lib/pkgconfig \
	./autogen.sh --prefix=/opt/tinymail --enable-asyncworker --enable-tests && make && sudo make install

